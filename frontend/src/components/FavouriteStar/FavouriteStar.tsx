import './FavouriteStar.module.css';
import React, {useEffect, useState} from "react";
import axios from "axios";
import {el} from "date-fns/locale";
import "../../pages/DashboardPage/Dashboard.css"



function FavouriteStar ({Type, Id, isFav} : {Type : string; Id : number; isFav : boolean;})
{

    const [isFavourite, setFavourite] = useState(isFav)

    useEffect(() => {
        setFavourite(isFav)
    },[isFav])
    const handleClickOn = () : void => {
        if (Type === "Team")
        {
            axios.put(`http://localhost:8080/user/addFavouriteTeam/${Id}`);
        }
        else if (Type === "Match"){
            axios.put(`http://localhost:8080/user/addFavouriteFixture/${Id}`);
        }
        setFavourite(true)
    }

    const handleClickOff = () : void => {
        if (Type === "Team") {
            axios.delete(`http://localhost:8080/user/removeFavouriteTeam/${Id}`);
        } else if (Type === "Match") {
            axios.delete(`http://localhost:8080/user/removeFavouriteFixture/${Id}`);
        }
        setFavourite(false)
    }

    return (
        <div className="FavStarContainer">
            {isFavourite ?
                (
                <button className={`isOn`} onClick={handleClickOff}>
                    <svg width="34" height="32" viewBox="0 0 34 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.4123 11.1453C11.8984 11.0753 12.3195 10.7717 12.5396 10.3326L16.9554 1.52044L16.9554 1.52035C16.9584 1.51445 16.9606 1.51096 16.9618 1.50928L16.9632 1.50749L16.9633 1.50736C16.9658 1.50587 16.9785 1.5 17 1.5C17.0215 1.5 17.0342 1.50587 17.0367 1.50736C17.0367 1.50737 17.0367 1.50737 17.0367 1.50738L17.0368 1.50749L17.0382 1.50928C17.0393 1.51096 17.0416 1.51445 17.0446 1.52035L17.0446 1.52044L21.4604 10.3326C21.6804 10.7717 22.1015 11.0753 22.5876 11.1453L32.4628 12.5671C32.4803 12.5696 32.488 12.5731 32.4893 12.5737L32.4904 12.5742L32.4905 12.5743L32.4906 12.5743C32.491 12.5748 32.4952 12.5791 32.4982 12.5881C32.4985 12.5889 32.4987 12.5897 32.4989 12.5904C32.4973 12.5922 32.4953 12.5942 32.4928 12.5966C32.4928 12.5966 32.4928 12.5966 32.4928 12.5966L25.3484 19.4512C24.9882 19.7968 24.8235 20.299 24.9091 20.7909L26.5952 30.4744L26.5952 30.4745C26.5954 30.4755 26.5955 30.4764 26.5956 30.4773C26.5933 30.4797 26.59 30.4828 26.5853 30.4861C26.5713 30.4961 26.5586 30.4993 26.5526 30.4999C26.5503 30.5001 26.5483 30.5 26.5456 30.4995C26.5433 30.4991 26.5352 30.4973 26.5206 30.4898C26.5206 30.4898 26.5206 30.4898 26.5206 30.4898L17.69 25.9153C17.2573 25.6911 16.7427 25.6911 16.31 25.9153L7.47934 30.4898L7.47933 30.4898C7.46477 30.4973 7.45665 30.4991 7.45436 30.4995C7.45169 30.5 7.44971 30.5001 7.44739 30.4999C7.4414 30.4993 7.42862 30.4961 7.4147 30.4861C7.40996 30.4827 7.40659 30.4797 7.40428 30.4772C7.40441 30.4764 7.40456 30.4754 7.40473 30.4744C7.40473 30.4744 7.40474 30.4744 7.40474 30.4744L9.09079 20.7909C9.17643 20.299 9.01175 19.7968 8.65152 19.4512L1.50727 12.5966L1.50721 12.5966C1.50473 12.5942 1.50272 12.5921 1.50113 12.5904C1.50132 12.5897 1.50155 12.5889 1.50182 12.5881C1.50492 12.5787 1.50932 12.5744 1.50945 12.5743L1.50964 12.5742L1.51072 12.5737C1.512 12.5731 1.51973 12.5696 1.53724 12.5671L11.4123 11.1453Z" fill="#D3FC01" stroke="#D3FC01" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>

            ) : (
                <button className={`isOff`} onClick={handleClickOn}>
                    <svg width="34" height="32" viewBox="0 0 34 32" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.4123 11.1453C11.8984 11.0753 12.3195 10.7717 12.5396 10.3326L16.9554 1.52044L16.9554 1.52035C16.9584 1.51445 16.9606 1.51096 16.9618 1.50928L16.9632 1.50749L16.9633 1.50736C16.9658 1.50587 16.9785 1.5 17 1.5C17.0215 1.5 17.0342 1.50587 17.0367 1.50736C17.0367 1.50737 17.0367 1.50737 17.0367 1.50738L17.0368 1.50749L17.0382 1.50928C17.0393 1.51096 17.0416 1.51445 17.0446 1.52035L17.0446 1.52044L21.4604 10.3326C21.6804 10.7717 22.1015 11.0753 22.5876 11.1453L32.4628 12.5671C32.4803 12.5696 32.488 12.5731 32.4893 12.5737L32.4904 12.5742L32.4905 12.5743L32.4906 12.5743C32.491 12.5748 32.4952 12.5791 32.4982 12.5881C32.4985 12.5889 32.4987 12.5897 32.4989 12.5904C32.4973 12.5922 32.4953 12.5942 32.4928 12.5966C32.4928 12.5966 32.4928 12.5966 32.4928 12.5966L25.3484 19.4512C24.9882 19.7968 24.8235 20.299 24.9091 20.7909L26.5952 30.4744L26.5952 30.4745C26.5954 30.4755 26.5955 30.4764 26.5956 30.4773C26.5933 30.4797 26.59 30.4828 26.5853 30.4861C26.5713 30.4961 26.5586 30.4993 26.5526 30.4999C26.5503 30.5001 26.5483 30.5 26.5456 30.4995C26.5433 30.4991 26.5352 30.4973 26.5206 30.4898C26.5206 30.4898 26.5206 30.4898 26.5206 30.4898L17.69 25.9153C17.2573 25.6911 16.7427 25.6911 16.31 25.9153L7.47934 30.4898L7.47933 30.4898C7.46477 30.4973 7.45665 30.4991 7.45436 30.4995C7.45169 30.5 7.44971 30.5001 7.44739 30.4999C7.4414 30.4993 7.42862 30.4961 7.4147 30.4861C7.40996 30.4827 7.40659 30.4797 7.40428 30.4772C7.40441 30.4764 7.40456 30.4754 7.40473 30.4744C7.40473 30.4744 7.40474 30.4744 7.40474 30.4744L9.09079 20.7909C9.17643 20.299 9.01175 19.7968 8.65152 19.4512L1.50727 12.5966L1.50721 12.5966C1.50473 12.5942 1.50272 12.5921 1.50113 12.5904C1.50132 12.5897 1.50155 12.5889 1.50182 12.5881C1.50492 12.5787 1.50932 12.5744 1.50945 12.5743L1.50964 12.5742L1.51072 12.5737C1.512 12.5731 1.51973 12.5696 1.53724 12.5671L11.4123 11.1453Z" stroke="#D3FC01" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    </svg>
                </button>
            )}
        </div>
    )
}

export default FavouriteStar;